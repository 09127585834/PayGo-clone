<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Airtime Receipt</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #fafafa;
      margin: 0;
      padding: 20px;
      color: #222;
      text-align: center;
    }
    .processing {
      font-size: 24px;
      margin-top: 50px;
    }
    .loader {
      border: 4px solid #f3f3f3;
      border-top: 4px solid #00b96b;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      animation: spin 1s linear infinite;
      margin: 20px auto;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    .receipt {
      display: none;
      max-width: 400px;
      margin: 30px auto;
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.06);
      padding: 20px;
      text-align: left;
    }
    .receipt-header {
      text-align: center;
    }
    .receipt-header img {
      width: 40px;
      margin-bottom: 8px;
    }
    .amount {
      font-size: 28px;
      font-weight: bold;
      margin: 10px 0;
    }
    .success {
      color: #00b96b;
      font-weight: bold;
    }
    .cashback {
      color: #00b96b;
      text-align: center;
      margin-top: 5px;
    }
    .details {
      margin-top: 20px;
      border-top: 1px solid #eee;
      padding-top: 15px;
    }
    .details p {
      margin: 5px 0;
    }
    .btn {
      display: inline-block;
      background-color: #00b96b;
      color: white;
      padding: 12px 20px;
      border: none;
      border-radius: 25px;
      margin-top: 30px;
      text-decoration: none;
      font-size: 16px;
      transition: background 0.3s ease;
    }
    .btn:hover {
      background-color: #019256;
    }
  </style>
</head>
<body>

<div id="processing" class="processing">
  Processing Purchase...
  <div class="loader"></div>
</div>

<div id="receipt" class="receipt">
  <div class="receipt-header">
    <img id="networkLogo" src="" alt="Network Logo">
    <h2 id="networkName">Network</h2>
    <div class="amount" id="amountDisplay">₦0.00</div>
    <div class="success">✅ Successful</div>
    <div class="cashback" id="cashback"></div>
  </div>

  <div class="details">
    <h3>Transaction Details</h3>
    <p><strong>Recipient Mobile:</strong> <span id="phoneDisplay"></span></p>
    <p><strong>Transaction Type:</strong> Airtime</p>
    <p><strong>Payment Method:</strong> PayGo Wallet</p>
    <p><strong>Transaction No.:</strong> <span id="txnId"></span></p>
    <p><strong>Transaction Date:</strong> <span id="txnDate"></span></p>
  </div>

  <a href="dashboard.html" class="btn">Back to Dashboard</a>
</div>

<script>
  // Get query parameters
  const params = new URLSearchParams(window.location.search);
  const amount = parseFloat(params.get('amount') || '0').toFixed(2);
  const phone = params.get('phone') || 'Unknown';
  const network = params.get('network') || 'Unknown';

  const networkLogos = {
    'Airtel': 'https://upload.wikimedia.org/wikipedia/commons/1/11/Airtel_logo_2020.png',
    'MTN': 'https://upload.wikimedia.org/wikipedia/commons/2/2e/MTN_Logo.svg',
    'Glo': 'https://upload.wikimedia.org/wikipedia/commons/4/42/Glo_Logo.png',
    '9mobile': 'https://upload.wikimedia.org/wikipedia/commons/f/fb/9mobile_logo.png'
  };

  // Generate random transaction ID
  const randomTxnId = '250' + Math.floor(100000000000000 + Math.random() * 900000000000000);

  // Get current date & time
  const now = new Date();
  const dateString = now.toLocaleDateString('en-NG', {
    year: 'numeric', month: 'long', day: 'numeric'
  });
  const timeString = now.toLocaleTimeString('en-NG');
  const fullDateTime = `${dateString} ${timeString}`;

  // Delay and show receipt
  setTimeout(() => {
    document.getElementById('processing').style.display = 'none';
    document.getElementById('receipt').style.display = 'block';

    // Fill receipt content
    document.getElementById('amountDisplay').textContent = `₦${amount}`;
    document.getElementById('cashback').textContent = `+₦${(amount * 0.01).toFixed(2)} Cashback`;
    document.getElementById('phoneDisplay').textContent = phone;
    document.getElementById('txnId').textContent = randomTxnId;
    document.getElementById('txnDate').textContent = fullDateTime;
    document.getElementById('networkName').textContent = network;

    const logoUrl = networkLogos[network] || '';
    document.getElementById('networkLogo').src = logoUrl;
  }, 3000);
</script>

</body>
</html>
