<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Withdraw</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f8f9fc;
      margin: 0;
      padding: 0;
    }
    .container {
      padding: 20px;
    }
    h2 {
      text-align: center;
      margin-top: 20px;
    }
    .section {
      background-color: #fff;
      border-radius: 10px;
      padding: 20px;
      margin-top: 20px;
      box-shadow: 0 1px 5px rgba(0,0,0,0.1);
    }
    label {
      display: block;
      margin-bottom: 5px;
      font-weight: bold;
    }
    input, select, button {
      width: 100%;
      padding: 12px;
      margin-bottom: 15px;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 16px;
    }
    button {
      background-color: #94e2bd;
      color: #000;
      font-weight: bold;
      border: none;
      cursor: pointer;
    }
    input[readonly] {
      background-color: #f1f1f1;
    }
    .no-payid {
      text-align: center;
      margin-top: 10px;
    }
    .no-payid a {
      color: #007bff;
      text-decoration: none;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>Transfer To Bank Account</h2>

    <div class="section">
      <form action="next.html" method="GET">
        <label for="payid">PAY ID</label>
        <input type="text" id="payid" name="payid" placeholder="Enter your PAY ID" required>

        <label for="accountNumber">Account Number</label>
        <input type="text" id="accountNumber" name="accountNumber" placeholder="Enter 10-digit account number" pattern="\d{10}" required>

        <label for="bank">Select Bank</label>
        <select id="bank" name="bank" required>
          <option value="">-- Select Bank --</option>
          <option value="access">Access Bank</option>
          <option value="citibank">Citibank</option>
          <option value="ecobank">Ecobank</option>
          <option value="fidelity">Fidelity Bank</option>
          <option value="first">First Bank</option>
          <option value="fcmb">FCMB</option>
          <option value="globus">Globus Bank</option>
          <option value="gtbank">GTBank</option>
          <option value="heritage">Heritage Bank</option>
          <option value="jaiz">Jaiz Bank</option>
          <option value="keystone">Keystone Bank</option>
          <option value="kuda">Kuda Bank</option>
          <option value="opay">Opay</option>
          <option value="palmpay">PalmPay</option>
          <option value="parallex">Parallex Bank</option>
          <option value="polaris">Polaris Bank</option>
          <option value="providus">Providus Bank</option>
          <option value="stanbic">Stanbic IBTC</option>
          <option value="standard">Standard Chartered</option>
          <option value="sterling">Sterling Bank</option>
          <option value="suntrust">Suntrust Bank</option>
          <option value="taj">Taj Bank</option>
          <option value="uba">UBA</option>
          <option value="union">Union Bank</option>
          <option value="unity">Unity Bank</option>
          <option value="wema">Wema Bank</option>
          <option value="zenith">Zenith Bank</option>
        </select>

        <label for="accountName">Account Name</label>
        <input type="text" id="accountName" name="accountName" readonly placeholder="Account name will appear here">

        <button type="submit">Next</button>
      </form>

      <div class="no-payid">
        Don't have a PAY ID? <a href="buy.html">Buy Now</a>
      </div>
    </div>
  </div>

  <script>
    const accountNumberInput = document.getElementById('accountNumber');
    const bankSelect = document.getElementById('bank');
    const accountNameField = document.getElementById('accountName');

    function simulateFetchAccountName(accountNumber, bank) {
      // Replace this with a real API call (e.g. Paystack, Flutterwave)
      return new Promise((resolve) => {
        setTimeout(() => {
          const fakeNames = {
            'gtbank': 'ADEBAYO JOHNSON',
            'first': 'CHIOMA OBI',
            'opay': 'MUHAMMAD NASIR',
            'palmpay': 'IBRAHIM KHALIFAH'
          };
          resolve(fakeNames[bank] || 'JOHN DOE');
        }, 1000);
      });
    }

    function handleFetch() {
      const accountNumber = accountNumberInput.value;
      const bank = bankSelect.value;

      if (accountNumber.length === 10 && bank) {
        accountNameField.value = "Fetching...";
        simulateFetchAccountName(accountNumber, bank).then(name => {
          accountNameField.value = name;
        });
      }
    }

    accountNumberInput.addEventListener('input', handleFetch);
    bankSelect.addEventListener('change', handleFetch);
  </script>
</body>
</html>
